<?xml version="1.0" ?>
<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

    <services>

        <service id="Boxalino\Exporter\Service\Component\CustomerComponentInterface" class="Boxalino\Exporter\Service\Component\Customer" parent="boxalino.exporter.component" />
        <service id="Boxalino\Exporter\Service\Component\OrderComponentInterface" class="Boxalino\Exporter\Service\Component\Order" parent="boxalino.exporter.component" />
        <service id="Boxalino\Exporter\Service\Component\ProductComponentInterface" class="Boxalino\Exporter\Service\Component\Product" parent="boxalino.exporter.component" >
            <argument type="service" id="boxalino.exporter.component.product.category"/>
            <argument type="service" id="boxalino.exporter.component.product.property"/>
            <argument type="service" id="boxalino.exporter.component.product.option"/>
            <argument type="service" id="boxalino.exporter.component.product.media"/>
            <argument type="service" id="boxalino.exporter.component.product.manufacturer"/>
            <argument type="service" id="boxalino.exporter.component.product.price"/>
            <argument type="service" id="boxalino.exporter.component.product.advancedPrice"/>
            <argument type="service" id="boxalino.exporter.component.product.url"/>
            <argument type="service" id="boxalino.exporter.component.product.review"/>
            <argument type="service" id="boxalino.exporter.component.product.translation"/>
            <argument type="service" id="boxalino.exporter.component.product.tag"/>
            <argument type="service" id="boxalino.exporter.component.product.visibility"/>
            <argument type="service" id="Boxalino\Exporter\Service\Delta\ProductStateRecognitionInterface"/>
        </service>

        <service id="Boxalino\Exporter\Service\Delta\ProductStateRecognitionInterface" class="Boxalino\Exporter\Service\Delta\ProductStateRecognition">
            <argument type="service" id="boxalino.exporter.scheduler"/>
        </service>

        <!-- Full exporter data syncrhonization task (requires configuration)  -->
        <service id="Boxalino\RealTimeUserExperienceIntegration\ScheduledTask\ExporterFull">
            <tag name="shopware.scheduled.task" />
        </service>

        <!-- scheduled task handler with link to the task scheduler class -->
        <service id="Boxalino\RealTimeUserExperienceIntegration\ScheduledTask\ExporterFullHandler"
                 parent="Boxalino\Exporter\ScheduledTask\ExporterFullHandlerAbstract">
            <!--            <call method="setAccount"><argument type="string">your_account</argument></call>-->
            <tag name="messenger.message_handler" />
        </service>

        <!-- Delta exporter data syncrhonization task (requires configuration)  -->
        <service id="Boxalino\RealTimeUserExperienceIntegration\ScheduledTask\ExporterDelta">
            <tag name="shopware.scheduled.task" />
        </service>

        <!-- scheduled task handler with link to the task scheduler class -->
        <service id="Boxalino\RealTimeUserExperienceIntegration\ScheduledTask\ExporterDeltaHandler"
                 parent="Boxalino\Exporter\ScheduledTask\ExporterDeltaHandlerAbstract">
            <!--            <call method="setAccount"><argument type="string">your_account</argument></call>-->
            <tag name="messenger.message_handler" />
        </service>

    </services>
</container>
